@startuml Deployment Diagram
title Deployment Diagram - Aplikasi Freenance

node "User Device" as device {
  component "Freenance Desktop App" as app {
    artifact "freenance-1.0.jar" as jar
    
    package "UI Layer (Swing)" {
      component "Login/Register" as authUI
      component "Main Menu" as mainUI
      component "Data Master Forms" as masterUI
      component "Transaction Forms" as trxUI
      component "Report Viewers" as reportUI
    }
    
    package "Service Layer" {
      component "AuthService" as authSvc
      component "CoaService" as coaSvc
      component "ContactService" as contactSvc
      component "ProjectService" as projectSvc
      component "BudgetService" as budgetSvc
      component "TransactionService" as trxSvc
    }
    
    package "Model Layer" {
      component "User" as userModel
      component "Coa" as coaModel
      component "Contact" as contactModel
      component "Project" as projectModel
      component "Budget" as budgetModel
      component "Transaction" as trxModel
      component "Journal" as journalModel
    }
    
    package "Core" {
      component "DB" as dbCore
      component "Config" as config
      component "Background" as bg
    }
  }
  
  component "Java Runtime Environment" as jre {
    artifact "JRE 23" as jreVersion
  }
  
  package "Libraries" {
    artifact "sqlite-jdbc 3.49.1.0"
    artifact "jasperreports 7.0.3"
    artifact "jfreechart 1.5.5"
    artifact "jcalendar 1.4"
    artifact "jbcrypt 0.4"
    artifact "jackson-databind 2.19.0"
    artifact "dotenv-java 3.2.0"
  }
}

database "SQLite Database" as db {
  artifact "freenance.db" as dbFile
  component "Tables" as tables {
    artifact "users"
    artifact "chart_of_accounts"
    artifact "contacts"
    artifact "projects"
    artifact "budgets"
    artifact "transactions"
    artifact "journals"
  }
}

jar --> jre : <<runs on>>
jar ..> Libraries : <<uses>>

authUI --> authSvc : <<calls>>
masterUI --> coaSvc : <<calls>>
masterUI --> contactSvc : <<calls>>
masterUI --> projectSvc : <<calls>>
masterUI --> budgetSvc : <<calls>>
trxUI --> trxSvc : <<calls>>

authSvc --> userModel : <<uses>>
coaSvc --> coaModel : <<uses>>
contactSvc --> contactModel : <<uses>>
projectSvc --> projectModel : <<uses>>
budgetSvc --> budgetModel : <<uses>>
trxSvc --> trxModel : <<uses>>
trxSvc --> journalModel : <<uses>>

authSvc --> dbCore : <<uses>>
coaSvc --> dbCore : <<uses>>
contactSvc --> dbCore : <<uses>>
projectSvc --> dbCore : <<uses>>
budgetSvc --> dbCore : <<uses>>
trxSvc --> dbCore : <<uses>>

dbCore --> db : <<JDBC SQLite>>

note right of device
  Platform:
  - Windows
  - Linux
  - macOS
  
  Requirements:
  - JRE 23
  - Minimum 2GB RAM
  - 100MB disk space
end note

note right of db
  Database:
  - SQLite (embedded)
  - File: freenance.db
  - Location: application directory
  - No server required
  
  Connection:
  - sqlite-jdbc driver
  - Direct file access
end note

note bottom of app
  Architecture:
  - Desktop application (Swing)
  - 3-tier: UI → Service → Model
  - MVC pattern
  - Embedded SQLite database
  
  Build:
  - Maven with shade plugin
  - Single executable JAR
  - All dependencies included
end note

note bottom of Libraries
  Key Libraries:
  - JasperReports: Report generation
  - JFreeChart: Charts/graphs
  - JCalendar: Date picker
  - BCrypt: Password hashing
  - Jackson: JSON processing
  - Dotenv: Environment config
end note

@enduml
