@startuml Object Diagram - Proyek
title Object Diagram - Contoh Proyek dengan Transaksi

object "Ahmad Fauzi:User" as user {
  id = 1
  name = "Ahmad Fauzi"
  username = "ahmad"
}

object "PT Maju Jaya:Contact" as contact {
  id = 5
  name = "PT Maju Jaya"
  phone = "021-12345678"
  email = "info@majujaya.com"
}

object "Website E-Commerce:Project" as project {
  id = 3
  customerId = 5
  customerName = "PT Maju Jaya"
  number = "PRJ-2024-003"
  name = "Website E-Commerce"
  description = "Pembuatan website e-commerce"
  startDate = "2024-01-15"
  dueDate = "2024-03-15"
  endDate = null
  amount = 50000000
}

object "Tagihan DP:Transaction" as bill {
  id = 10
  projectId = 3
  contactId = 5
  trxType = "bill"
  trxNumber = "BILL-2024-001"
  trxDate = "2024-01-15"
  description = "Tagihan DP 50%"
  amount = 25000000
}

object "Pembayaran DP:Transaction" as payment {
  id = 11
  parentId = 10
  projectId = 3
  contactId = 5
  trxType = "cash_in"
  trxNumber = "TRX-2024-001"
  trxDate = "2024-02-01"
  description = "Pembayaran DP Website"
  amount = 25000000
}

object "Tagihan Pelunasan:Transaction" as bill2 {
  id = 20
  projectId = 3
  contactId = 5
  trxType = "bill"
  trxNumber = "BILL-2024-002"
  trxDate = "2024-03-15"
  description = "Tagihan Pelunasan 50%"
  amount = 25000000
}

user --> project : "mengelola"
contact --> project : "customer"
project --> bill : "relatedTo"
project --> payment : "relatedTo"
project --> bill2 : "relatedTo"
bill --> payment : "parent"

note right of project
  Status Proyek:
  - Total nilai: Rp 50.000.000
  - DP (50%): Rp 25.000.000 (Lunas)
  - Pelunasan (50%): Rp 25.000.000 (Belum)
  - Progress: Dalam pengerjaan
end note

note right of payment
  Pembayaran ini terkait
  dengan tagihan BILL-2024-001
  (parentId = 10)
end note

@enduml
